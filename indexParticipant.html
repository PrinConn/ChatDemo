<html>
<body>
Participant Chat - Pilot

<a id="liveagent_button_online_573g000000001DM" href="javascript://Chat" style="display: none;" onclick="liveagent.startChat('573g000000001DM')"><!-- Online Chat Content -->Chat button online</a><div id="liveagent_button_offline_573g000000001DM" style="display: none;"><!-- Offline Chat Content -->Chat button offline</div><script type="text/javascript">
if (!window._laq) { window._laq = []; }
window._laq.push(function(){liveagent.showWhenOnline('573g000000001DM', document.getElementById('liveagent_button_online_573g000000001DM'));
liveagent.showWhenOffline('573g000000001DM', document.getElementById('liveagent_button_offline_573g000000001DM'));
});</script>


<script type='text/javascript' src='https://c.la1-c2cs-iad.salesforceliveagent.com/content/g/js/45.0/deployment.js'></script>
<script type='text/javascript'>
  liveagent.enableLogging();
  /* Case data */
  liveagent.addCustomDetail('CaseSubject', 'Chat');
  liveagent.addCustomDetail('CaseStatus','New');
  liveagent.addCustomDetail('CaseOrigin','Chat');
  liveagent.addCustomDetail('ChatSubOrigin', 'RobustWealth', true);	
  liveagent.addCustomDetail('CaseTopic', 'Robust Wealth', true);	
  liveagent.addCustomDetail('RecordType','012g00000006NxcAAE');
  liveagent.addCustomDetail('LinkedContract','800g0000004ESc3AAG');
  liveagent.addCustomDetail('DescriptionField','values strung together here');
  /*EID for the user - changed on 9/26 for testin automation contact*/
  liveagent.addCustomDetail('EnterpriseID','U31U4684RConsumer');
  /* ChatToken Data */
  liveagent.addCustomDetail('Token','This is me, promise');
  liveagent.addCustomDetail('ChatDeployment','2F57261000000XZAH');
  
  
  liveagent.findOrCreate('Case')
    .map('RecordTypeId', 'RecordType', false, false, true) 
    .map('Subject', 'CaseSubject', false, false, true) 
    .map('Status', 'CaseStatus', false, false, true) 
    /*.map('Origin','CaseOrigin',false,false,true)*/
    .map('Chat_Sub_Origin__c', 'ChatSubOrigin', false, false, true)
    .map('Topic__c', 'CaseTopic', false, false, true)
    .map('Contract__c', 'LinkedContract', false, false, true)
    .map('Description', 'DescriptionField', false, false, true)
    .saveToTranscript('CaseId')
    .showOnCreate(); 
  
  /* An auto-query that searches Contacts whose Contact_Distinct). If no result is found, it will not create a Contact record. */  
  liveagent.findOrCreate('Contact').map('Contact_Distinct_ID__c','EnterpriseID',true,true,false)
    .saveToTranscript('ContactId')
    .showOnCreate()
    .linkToEntity('ChatToken__c','Contact__c')
    .linkToEntity('Case','ContactId');
  
  liveagent.findOrCreate('Contract').map('Id','LinkedContract',true,true,false)
    .saveToTranscript('Chat_Contract__c')
    .showOnCreate();
  
  /* Creating chat token */
  liveagent.findOrCreate('ChatToken__c').map('Visitor_Token__c','Token',false,false,true)
    .map('Deployment_Key_Setting__c','ChatDeployment',false,false,true)
    .map('Contact__c','Contact',false,false,true)
    .saveToTranscript('ChatToken__c');
  
/* Sets the display name of the visitor and where at in the agent console when engaged in a chat */
    liveagent.setName('Jaime from Robust Wealth Step 20');
/* Sets the width of the chat window to 500px */
    liveagent.setChatWindowWidth(500);
/* Sets the height of the chat window to 500px */
  liveagent.setChatWindowHeight(500);
liveagent.init('https://d.la1-c2cs-iad.salesforceliveagent.com/chat', '572g000000000c6', '00Dg0000006HwWA');
</script>

</body>
</html>
