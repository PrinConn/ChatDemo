<html>
<body>
This is the body

<a id="liveagent_button_online_5732C000000GmsI" href="javascript://Chat" style="display: block;" onclick="liveagent.startChat('5732C000000GmsI')">Chat Now!</a><div id="liveagent_button_offline_5732C000000GmsI" style="display: block;">No Agents Available to Chat</div><script type="text/javascript">
if (!window._laq) { window._laq = []; }
window._laq.push(function(){liveagent.showWhenOnline('5732C000000GmsI', document.getElementById('liveagent_button_online_5732C000000GmsI'));
liveagent.showWhenOffline('5732C000000GmsI', document.getElementById('liveagent_button_offline_5732C000000GmsI'));
});</script>

<script type='text/javascript' src='https://c.la1-c1cs-dfw.salesforceliveagent.com/content/g/js/42.0/deployment.js'></script>
<script type='text/javascript'>
  liveagent.enableLogging();
  /* Dynamic data */
  liveagent.addCustomDetail('CaseSubject', 'New Test Chat 14');
  liveagent.addCustomDetail('CaseStatus','New');
    /*This is the record type for PAS
      Will be unique for every different case */
  liveagent.addCustomDetail('RecordType','0122C000000L9iKQAS'); 
  /*EID for the user */
  liveagent.addCustomDetail('EnterpriseID','W96M0405MConsumer');

  /* An auto-query that searches Contacts whose Contact_Distinct). If no result is found, it will not create a Contact record. */  
  liveagent.findOrCreate('Contact').map('Contact_Distinct_ID__c','EnterpriseID',true,true,false); 
  
/*  liveagent.findOrCreate('Case').map('Subject','CaseSubject',false,false,true).map('Status','CaseStatus',false,false,true).saveToTranscript('CaseId').showOnCreate();
*/  
    liveagent.findOrCreate('Case')
    .map('RecordTypeId', 'RecordType', false, false, true) 
    .map('Subject', 'CaseSubject', false, false, true) 
    .map('Status', 'CaseStatus', false, false, true) 
    .map('ContactId','ContactId', false, false, true) 
    .saveToTranscript('CaseId')
    .showOnCreate(); 
  
  liveagent.findOrCreate('Contact').saveToTranscript('ContactId').showOnCreate().linkToEntity('Case','ContactId');
   
  /* Sets the display name of the visitor and where at in the agent console when engaged in a chat */
    liveagent.setName('Jaime from Robust Wealth Step 20');
/* Sets the width of the chat window to 500px */
    liveagent.setChatWindowWidth(500);
/* Sets the height of the chat window to 500px */
  liveagent.setChatWindowHeight(500);
  liveagent.init('https://d.la1-c1cs-dfw.salesforceliveagent.com/chat', '5722C000000Gmgl', '00D2C0000000qaR');
</script>

</body>
</html>

<!DOCTYPE HTML>
<html>
<head>
<title>PreChatForm</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<!-- This script takes the endpoint URL parameter passed from the 
     deployment page and makes it the action for the form.
     You can see the endPoint parameter in the Pre-Chat form window's URL.
-->
<script>
(function() { 
     function handlePageLoad() {
       var endpointMatcher = new RegExp("[\\?\\&]endpoint=([^&#]*)");
       document.getElementById('prechatForm').setAttribute('action',
       decodeURIComponent(endpointMatcher.exec(document.location.search)[1]));
     } if (window.addEventListener) {
         window.addEventListener('load', handlePageLoad, false);
     } else { 
         window.attachEvent('onload', handlePageLoad, false);
     }
})(); 
</script>
</head>
<body>

<h1>Pre-chat Form</h1>

<form method='post' id='prechatForm'> 

      <input type='hidden' name="liveagent.prechat:WebToChatToken" value="TokenToken" />
      <input type="hidden" name="liveagent.prechat.save:WebToChatToken" value="Visitor_WebToChatAuthentication__c" />
      <input type='submit' value='Request Chat' id='prechat_submit'/>
</form>
</body>
</html>

