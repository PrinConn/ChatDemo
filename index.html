<html>
<body>
This is the body

<a id="liveagent_button_online_5732C000000GmsI" href="javascript://Chat" style="display: block;" onclick="liveagent.startChat('5732C000000GmsI')">Chat Now!</a><div id="liveagent_button_offline_5732C000000GmsI" style="display: block;">No Agents Available to Chat</div><script type="text/javascript">
if (!window._laq) { window._laq = []; }
window._laq.push(function(){liveagent.showWhenOnline('5732C000000GmsI', document.getElementById('liveagent_button_online_5732C000000GmsI'));
liveagent.showWhenOffline('5732C000000GmsI', document.getElementById('liveagent_button_offline_5732C000000GmsI'));
});</script>

<script type='text/javascript' src='https://c.la1-c1cs-dfw.salesforceliveagent.com/content/g/js/42.0/deployment.js'></script>
<script type='text/javascript'>
  liveagent.enableLogging();
  /* Dynamic data */
  liveagent.addCustomDetail('Subject', 'New Test Chat');
  liveagent.addCustomDetail('Status','New');
    /*This is the record type for PAS*/
  liveagent.addCustomDetail('RecordType','0122C000000L9iKQAS'); 
  /*EID for the user */
  liveagent.addCustomDetail('EnterpriseID','W96M0405MConsumer');
  /*Contract Number for the person */
  liveagent.addCustomDetail('ContractNumber', '397011');

  /* An auto-query that searches Contacts whose Contact_Distinct). If no result is found, it will not create a Contact record. */  
liveagent.findOrCreate('Contact').map('Contact_Distinct_ID__c','EnterpriseID',true,true,false); 

  /* Code to search for related contract.  It will not create a contract if one does not exist */
  liveagent.findOrCreate('Contract').map('Contract_Source_ID__c','ContractNumber',true,true,false);  
  
/* The contact that's found or created will be saved or associated to the chat transcript. The contact will be opened for the agent in the Console and the case is linked to the contact record */
/*liveagent.findOrCreate('Contact').saveToTranscript('ContactId'); */
  
/*  Link Contract to entity */
/*liveagent.findOrCreate('Contract').saveToTranscript('ContractId'); */
/*  liveagent.findOrCreate('Contract').saveToTranscript('Chat_Contract__c'); */
  
  liveagent.findOrCreate('Case')
 /*   .map('RecordTypeId', 'RecordType', false, false, true) */
    .map('Subject', 'Subject', false, false, true) 
    .map('Status', 'Status', false, false, true) 
/*    .map('ContactId','ContactId', false, false, true) */
    .saveToTranscript('CaseId')
    .showOnCreate();
  
  liveagent.findOrCreate('Contact').saveToTranscript('ContactId').showOnCreate().linkToEntity('Case','ContactId');
  
  /* Sets the display name of the visitor and where at in the agent console when engaged in a chat */
    liveagent.setName('Jaime from Robust Wealth Step 13');
/* Sets the width of the chat window to 500px */
    liveagent.setChatWindowWidth(500);
/* Sets the height of the chat window to 500px */
  liveagent.setChatWindowHeight(500);
  liveagent.init('https://d.la1-c1cs-dfw.salesforceliveagent.com/chat', '5722C000000Gmgl', '00D2C0000000qaR');
</script>

</body>
</html>
